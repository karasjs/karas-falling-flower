{"version":3,"file":"index.es.js","sources":["src/index.js"],"sourcesContent":["import karas from 'karas';\nimport { version } from '../package.json';\n\nconst {\n  enums: {\n    STYLE_KEY: {\n      DISPLAY,\n      VISIBILITY,\n      OPACITY,\n    },\n    NODE_KEY: {\n      NODE_REFRESH_LV,\n    },\n  },\n  refresh: {\n    level: {\n      REPAINT,\n    },\n    Cache,\n  },\n  util: {\n    isNil,\n  },\n  math: {\n    geom: {\n      d2r,\n    },\n    matrix: {\n      identity,\n      multiply,\n    },\n  },\n  mode: {\n    CANVAS,\n    WEBGL,\n  },\n} = karas;\n\nlet uuid = 0;\n\nclass FallingFlower extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.count = 0;\n    this.time = 0;\n    this.playbackRate = props.playbackRate || 1;\n  }\n\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  componentWillUnmount() {\n    Object.keys(this.hashImg || {}).forEach(k => {\n      this.hashImg[k].release();\n    });\n    this.hashCache = {};\n    this.hashMatrix = {};\n    this.hashImg = {};\n  }\n\n  componentDidMount() {\n    let { props } = this;\n    let { list = [], num = 0, initNum = 0, interval = 300, intervalNum = 1, delay = 0, autoPlay, fps = 60 } = props;\n    if(num === 'infinity' || num === 'Infinity') {\n      num = Infinity;\n    }\n    let dataList = [];\n    let i = 0, length = list.length;\n    let lastTime = 0, count = 0;\n    let fake = this.ref.fake;\n    let hashCache = this.hashCache = {}, hashMatrix = this.hashMatrix = {}, hashImg = this.hashImg = {};\n    let cb = this.cb = diff => {\n      diff *= this.playbackRate;\n      if(delay > 0) {\n        delay -= diff;\n      }\n      if(delay <= 0) {\n        diff += delay;\n        this.time += diff;\n        delay = 0;\n      }\n      // 如果有初始粒子\n      if(initNum > 0) {\n        lastTime = this.time;\n        while(initNum-- > 0) {\n          i++;\n          i %= length;\n          count++;\n          dataList.push(this.genItem(list[i]));\n        }\n      }\n      // 已有的每个粒子时间增加计算位置，结束的则消失\n      for(let j = dataList.length - 1; j >= 0; j--) {\n        let item = dataList[j];\n        item.time += diff;\n        if(item.time >= item.duration) {\n          dataList.splice(j, 1);\n          delete hashCache[item.id];\n          delete hashMatrix[item.id];\n        }\n        else if(item.source) {\n          let { x, y, width, height, distance, direction, deg = 90, iterations = 1, time, duration } = item;\n          let percent = time / duration;\n          let dy = distance * percent;\n          let per = duration / iterations;\n          let count = Math.floor(time / per);\n          item.nowPercent = (time % per) / per;\n          item.nowDirection = (count % 2 === 0) ? direction : !direction;\n          item.nowX = x - width * 0.5;\n          item.nowY = y + dy - height * 0.5;\n          item.loaded = true;\n        }\n      }\n      if(count >= num) {\n        return;\n      }\n      if(this.time >= lastTime + interval) {\n        lastTime = this.time;\n        for(let j = 0; j < intervalNum; j++) {\n          i++;\n          i %= length;\n          count++;\n          dataList.push(this.genItem(list[i]))\n          if(count >= num) {\n            break;\n          }\n        }\n      }\n    };\n    if(autoPlay !== false) {\n      fake.frameAnimate(cb);\n    }\n    let a = this.animation = fake.animate([\n      {\n        opacity: 1,\n      },\n      {\n        opacity: 0,\n      }\n    ], {\n      duration: 1000,\n      delay,\n      iterations: Infinity,\n      autoPlay,\n      fps,\n    });\n    let __config = fake.__config;\n    __config[NODE_REFRESH_LV] |= REPAINT;\n    let shadowRoot = this.shadowRoot;\n    let texCache = this.root.texCache;\n    fake.render = (renderMode, lv, ctx, cache, dx = 0, dy = 0) => {\n      let time = a.currentTime - delay;\n      if(time < 0) {\n        return;\n      }\n      __config[NODE_REFRESH_LV] |= REPAINT;\n      let computedStyle = shadowRoot.computedStyle;\n      if(computedStyle[DISPLAY] === 'none'\n        || computedStyle[VISIBILITY] === 'hidden'\n        || computedStyle[OPACITY] <= 0) {\n        return;\n      }\n      let { sx, sy } = fake;\n      dataList.forEach(item => {\n        if(item.loaded) {\n          let x = item.nowX + sx + dx;\n          let y = item.nowY + sy + dy;\n          let m = this.matrixEvent;\n          let tfo = [x, y + item.origin];\n          let r;\n          // 左右摇摆为一个时期，前半在一侧后半在另一侧\n          if(item.nowPercent >= 0.5) {\n            r = d2r(item.deg * (item.nowPercent - 0.5) * (item.nowDirection ? -1 : 1));\n          }\n          else {\n            r = d2r(item.deg * (0.5 - item.nowPercent) * (item.nowDirection ? 1 : -1));\n          }\n          let t = identity();\n          let sin = Math.sin(r);\n          let cos = Math.cos(r);\n          t[0] = t[5] = cos;\n          t[1] = sin;\n          t[4] = -sin;\n          m = multiply([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tfo[0], tfo[1], 0, 1], m);\n          m = multiply(m, t);\n          if(renderMode === WEBGL) {\n            let cache = hashCache[item.id];\n            if(!cache) {\n              let url = item.url;\n              if(!hashImg[url]) {\n                cache = hashCache[item.id] = Cache.getInstance(\n                  [x - 1, y - 1, x + item.sourceWidth + 1, y + item.sourceHeight + 1],\n                  x, y\n                );\n                cache.ctx.drawImage(item.source, x + cache.dx, y + cache.dy)\n                hashImg[url] = cache;\n              }\n              else {\n                let c = hashImg[url];\n                cache = hashCache[item.id] = new karas.refresh.Cache(\n                  c.width, c.height,\n                  [x - 1, y - 1, x + item.sourceWidth + 1, y + item.sourceHeight + 1],\n                  c.page, c.pos, x, y\n                );\n              }\n            }\n            else {\n              cache.__bbox = [x - 1, y - 1, x + item.sourceWidth + 1, y + item.sourceHeight + 1];\n              cache.__sx = x;\n              cache.__sy = y;\n            }\n            if(item.width !== item.sourceWidth && item.height !== item.sourceHeight) {\n              let t2 = identity();\n              t2[0] = item.width / item.sourceWidth;\n              t2[5] = item.height / item.sourceHeight;\n              m = multiply(m, t2);\n            }\n            m = multiply(m, [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, -tfo[0], -tfo[1], 0, 1]);\n            hashMatrix[item.id] = m;\n          }\n          else if(renderMode === CANVAS) {\n            m = multiply(m, [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, -tfo[0], -tfo[1], 0, 1]);\n            ctx.setTransform(m[0], m[1], m[4], m[5], m[12], m[13]);\n            ctx.drawImage(item.source, x, y, item.width, item.height);\n          }\n        }\n      });\n    };\n    fake.__hookGlRender = function(gl, opacity, cx, cy, dx, dy, revertY) {\n      let computedStyle = shadowRoot.computedStyle;\n      if(computedStyle[DISPLAY] === 'none'\n        || computedStyle[VISIBILITY] === 'hidden'\n        || computedStyle[OPACITY] <= 0) {\n        return;\n      }\n      dataList.forEach(item => {\n        if(item.loaded) {\n          texCache.addTexAndDrawWhenLimit(gl, hashCache[item.id], opacity, hashMatrix[item.id], cx, cy, dx, dy, revertY);\n        }\n      });\n    };\n  }\n\n  genItem(item) {\n    let { width, height } = this;\n    let o = {\n      id: uuid++,\n      time: 0,\n      url: item.url,\n    };\n    if(Array.isArray(item.x)) {\n      o.x = (item.x[0] + Math.random() * (item.x[1] - item.x[0])) * width;\n    }\n    else {\n      o.x = item.x * width;\n    }\n    if(Array.isArray(item.y)) {\n      o.y = (item.y[0] + Math.random() * (item.y[1] - item.y[0])) * height;\n    }\n    else {\n      o.y = item.y * height;\n    }\n    if(Array.isArray(item.duration)) {\n      o.duration = (item.duration[0] + Math.random() * (item.duration[1] - item.duration[0]));\n    }\n    else {\n      o.duration = item.duration;\n    }\n    if(Array.isArray(item.width)) {\n      o.width = item.width[0] + Math.random() * (item.width[1] - item.width[0]);\n    }\n    else if(!isNil(item.width)) {\n      o.width = item.width;\n    }\n    if(Array.isArray(item.height)) {\n      o.height = item.height[0] + Math.random() * (item.height[1] - item.height[0]);\n    }\n    else if(!isNil(item.height)) {\n      o.height = item.height;\n    }\n    let distance = 0;\n    if(Array.isArray(item.distance)) {\n      distance = (item.distance[0] + Math.random() * (item.distance[1] - item.distance[0])) * height;\n    }\n    else if(distance) {\n      distance = item.distance * height;\n    }\n    o.distance = distance;\n    if(Array.isArray(item.deg)) {\n      o.deg = item.deg[0] + Math.random() * (item.deg[1] - item.deg[0]);\n    }\n    else if(!isNil(item.deg)) {\n      o.deg = item.deg;\n    }\n    else {\n      o.deg = 0;\n    }\n    if(Array.isArray(item.origin)) {\n      o.origin = item.origin[0] + Math.random() * (item.origin[1] - item.origin[0]);\n    }\n    else if(!isNil(item.origin)) {\n      o.origin = item.origin;\n    }\n    else {\n      o.origin = 0;\n    }\n    // 随机左右\n    o.direction = Math.random() > 0.5;\n    if(Array.isArray(item.iterations)) {\n      o.iterations = item.iterations[0] + Math.round(Math.random() * (item.iterations[1] - item.iterations[0]));\n    }\n    else if(!isNil(item.iterations)) {\n      o.iterations = item.iterations;\n    }\n    if(item.url) {\n      karas.inject.measureImg(item.url, function(res) {\n        if(res.success) {\n          o.source = res.source;\n          o.sourceWidth = res.width;\n          o.sourceHeight = res.height;\n          if(!(isNil(o.width) && isNil(o.height))) {\n            if(isNil(o.width)) {\n              o.width = res.width / res.height * o.height;\n            }\n            else if(isNil(o.height)) {\n              o.height = o.width * res.height / res.width;\n            }\n          }\n          if(o.height) {\n            o.origin *= o.height;\n          }\n        }\n      });\n    }\n    return o;\n  }\n\n  pause() {\n    this.ref.fake.removeFrameAnimate(this.cb);\n    if(this.animation) {\n      this.animation.pause();\n    }\n  }\n\n  resume() {\n    this.ref.fake.frameAnimate(this.cb);\n    if(this.animation) {\n      this.animation.resume();\n    }\n  }\n\n  play() {\n    this.count = 0;\n    this.time = 0;\n    this.ref.fake.removeFrameAnimate(this.cb);\n    this.ref.fake.frameAnimate(this.cb);\n    if(this.animation) {\n      this.animation.play();\n    }\n  }\n\n  render() {\n    return <div>\n      {/*<img src=\"https://gw.alipayobjects.com/mdn/rms_5f8aad/afts/img/A*W7jURJYPDdgAAAAAAAAAAAAAARQnAQ\"/>*/}\n      <$polyline ref=\"fake\" style={{width:0,visibility:'hidden'}}/>\n    </div>;\n  }\n}\n\nFallingFlower.version = version;\n\nexport default FallingFlower;\n"],"names":["karas","enums","STYLE_KEY","DISPLAY","VISIBILITY","OPACITY","NODE_REFRESH_LV","NODE_KEY","refresh","REPAINT","level","Cache","isNil","util","math","d2r","geom","matrix","identity","multiply","mode","CANVAS","WEBGL","uuid","FallingFlower","props","count","time","playbackRate","Object","keys","hashImg","forEach","k","release","hashCache","hashMatrix","list","num","initNum","interval","intervalNum","delay","autoPlay","fps","Infinity","dataList","i","length","lastTime","fake","ref","cb","diff","push","genItem","j","item","duration","splice","id","source","x","y","width","height","distance","direction","deg","iterations","percent","dy","per","Math","floor","nowPercent","nowDirection","nowX","nowY","loaded","frameAnimate","a","animation","animate","opacity","__config","shadowRoot","texCache","root","render","renderMode","lv","ctx","cache","dx","currentTime","computedStyle","sx","sy","m","matrixEvent","tfo","origin","r","t","sin","cos","url","getInstance","sourceWidth","sourceHeight","drawImage","c","page","pos","__bbox","__sx","__sy","t2","setTransform","__hookGlRender","gl","cx","cy","revertY","addTexAndDrawWhenLimit","o","Array","isArray","random","round","inject","measureImg","res","success","removeFrameAnimate","pause","resume","play","visibility","Component","version"],"mappings":"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"}